{% extends "base.html" %}

{% block title %}Members | Gym SaaS{% endblock %}

{% block content %}

<div class="d-flex justify-content-between align-items-center mb-3">
  <h4>Members</h4>

  <!-- Create Member -->
  <form
    method="POST"
    action="{{ url_for('api_v1.member.create_member') }}"
    class="d-flex gap-2"
  >
    <input
      type="text"
      name="name"
      class="form-control"
      placeholder="Member name"
      required
    >
    <input
      type="text"
      name="phone_number"
      class="form-control"
      placeholder="Phone"
      required
    >
    <button class="btn btn-primary">
      Add
    </button>
  </form>
</div>

<table class="table table-bordered table-hover">
  <thead class="table-dark">
    <tr>
      <th>Name</th>
      <th>Phone</th>
      <th>Status</th>
      <th width="120">Action</th>
    </tr>
  </thead>
  <tbody>
    {% for member in members %}
    <tr>
      <td>{{ member.name }}</td>
      <td>{{ member.phone_number }}</td>
      <td>
        {% if member.is_active %}
          <span class="badge bg-success">Active</span>
        {% else %}
          <span class="badge bg-secondary">Inactive</span>
        {% endif %}
      </td>
      <td>
        <a
          href="{{ url_for('api_v1.member.member_details', member_id=member.id) }}"
          class="btn btn-sm btn-outline-primary"
        >
          View
        </a>
      </td>
    </tr>
    {% else %}
    <tr>
      <td colspan="4" class="text-center text-muted">
        No members found
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}