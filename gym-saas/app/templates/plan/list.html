{% extends "base.html" %}

{% block title %}Plans | Gym SaaS{% endblock %}

{% block content %}

<div class="d-flex justify-content-between align-items-center mb-3">
  <h4>Plans</h4>

  <!-- Create Plan -->
  <form
    method="POST"
    action="{{ url_for('api_v1.plan.create_plan') }}"
    class="d-flex gap-2"
  >
    <input
      type="text"
      name="name"
      class="form-control"
      placeholder="Plan name"
      required
    >
    <input
      type="number"
      name="duration_months"
      class="form-control"
      placeholder="Months"
      min="1"
      required
    >
    <input
      type="number"
      step="0.01"
      name="price"
      class="form-control"
      placeholder="Price"
      required
    >
    <input
      type="text"
      name="description"
      class="form-control"
      placeholder="Description"
    >
    <button class="btn btn-primary">
      Add
    </button>
  </form>
</div>

<table class="table table-bordered table-hover">
  <thead class="table-dark">
    <tr>
      <th>Name</th>
      <th>Duration</th>
      <th>Price</th>
      <th>Status</th>
      <th width="120">Action</th>
    </tr>
  </thead>

  <tbody>
    {% for plan in plans %}
    <tr>
      <td>{{ plan.name }}</td>
      <td>{{ plan.duration_months }} months</td>
      <td>â‚¹{{ plan.price }}</td>
      <td>
        {% if plan.is_active %}
          <span class="badge bg-success">Active</span>
        {% else %}
          <span class="badge bg-secondary">Inactive</span>
        {% endif %}
      </td>
      <td>
        <a
          href="{{ url_for('api_v1.plan.plan_details', plan_id=plan.id) }}"
          class="btn btn-sm btn-outline-primary"
        >
          View
        </a>
      </td>
    </tr>
    {% else %}
    <tr>
      <td colspan="5" class="text-center text-muted">
        No plans found
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
